<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Contactos Policiales</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/all.min.css">
    <link rel="stylesheet" href="styles.css">
</head>
<body>

    <main class="main-content">
        <!-- 1. Búsqueda de contactos -->
        <div class="search-container">
            <form id="search-form">
                <div id="search-input-container">
                    <i class="fas fa-search search-icon"></i>
                    <input type="text" id="search-input" placeholder="Buscar contacto...">
                </div>
                <div class="search-buttons">
                    <button type="button" id="voice-search-btn" class="action-btn" title="Buscar por voz">
                        <i class="fas fa-microphone"></i>
                    </button>
                    <button type="submit" id="search-btn" class="action-btn" title="Buscar">
                        <i class="fas fa-search"></i>
                    </button>
                </div>
            </form>
        </div>

        <!-- 2. Resultados -->
        <div class="results-container">
            <h2 class="section-title">
                <i class="fas fa-user"></i>
                Resultados
            </h2>
            <div id="results"></div>
        </div>
        
        <!-- 3. Navegación de resultados -->
        <div class="navigation-container" id="navigation-container" style="display: none;">
            <div id="navigation">
                <button id="prev-btn" disabled>
                    <i class="fas fa-chevron-left"></i> Anterior
                </button>
                <span id="current-page">0 de 0</span>
                <button id="next-btn" disabled>
                    Siguiente <i class="fas fa-chevron-right"></i>
                </button>
            </div>
        </div>

        <!-- 4. Botones de acción -->
        <div class="action-buttons-container" id="action-buttons-container" style="display: none;">
            <div id="action-buttons">
                <button id="call-btn" class="action-btn" title="Llamar"><i class="fas fa-phone"></i></button>
                <button id="whatsapp-btn" class="action-btn" title="WhatsApp"><i class="fab fa-whatsapp"></i></button>
                <button id="email-btn" class="action-btn" title="Email"><i class="fas fa-envelope"></i></button>
                <button id="share-btn" class="action-btn" title="Compartir"><i class="fas fa-share-alt"></i></button>
                
            </div>
        </div>

        <!-- 5. Resumen del personal -->
        <div class="personal-summary-container">
            <h2 class="section-title">
                <i class="fas fa-users"></i>
                Parte del Personal
            </h2>
            <div id="personal-summary">
                <ul id="personal-list">
                    <li id="oficiales-item">
                        <i class="fas fa-medal"></i>
                        Oficiales: <span id="oficiales-count" class="clickable">0</span>
                        <ul id="oficiales-desglose" class="desglose" style="display: none;"></ul>
                    </li>
                    <li id="suboficiales-item">
                        <i class="fas fa-star"></i>
                        Suboficiales: <span id="suboficiales-count" class="clickable">0</span>
                        <ul id="suboficiales-desglose" class="desglose" style="display: none;"></ul>
                    </li>
                    <li id="patrulleros-item">
                        <i class="fas fa-shield-alt"></i>
                        Patrulleros: <span id="patrulleros-count" class="clickable">0</span>
                        <ul id="patrulleros-desglose" class="desglose" style="display: none;"></ul>
                    </li>
                    <li id="patrulleros-policia-item">
                        <i class="fas fa-user-shield"></i>
                        Patrulleros de Policía: <span id="patrulleros-policia-count" class="clickable">0</span>
                        <ul id="patrulleros-policia-desglose" class="desglose" style="display: none;"></ul>
                    </li>
                    <li id="auxiliares-item">
                        <i class="fas fa-user-friends"></i>
                        Auxiliares de Policía: <span id="auxiliares-count" class="clickable">0</span>
                        <ul id="auxiliares-desglose" class="desglose" style="display: none;"></ul>
                    </li>
                    <li id="personal-civil-item">
                        <i class="fas fa-user-tie"></i>
                        Personal Civil: <span id="personal-civil-count" class="clickable">0</span>
                        <ul id="personal-civil-desglose" class="desglose" style="display: none;"></ul>
                    </li>
                </ul>
                <div id="total-personal">
                    <i class="fas fa-calculator"></i>
                    Total del Personal: <span id="total-count">0</span>
                </div>
            </div>
        </div>

        <!-- 6. Carga de archivos JSON -->
        <div class="file-upload-container">
            <h2 class="section-title">
                <i class="fas fa-file-upload"></i>
                Cargar lista de contactos
            </h2>
            <div id="file-upload">
                <input type="file" id="json-file" accept=".json" style="display: none;">
                <label for="json-file" class="btn">
                    <i class="fas fa-file-upload"></i> Cargar archivo JSON
                </label>
                <div id="fileStatus">Ningún archivo cargado</div>
            </div>
        </div>
    </main>

    <!-- Notificación -->
    <div class="notification" id="notification">
        <div class="notification-icon">
            <i class="fas fa-info-circle"></i>
        </div>
        <div class="notification-content">
            <div class="notification-title">Contactos</div>
            <div class="notification-message">Directorio de contactos del personal</div>
        </div>
        <button class="notification-close" id="notificationClose">
            <i class="fas fa-times"></i>
        </button>
    </div>

    <!-- Modal para agregar contactos -->
    <div id="contact-modal" class="modal">
        <div class="modal-content">
            <span class="close-modal">&times;</span>
            <h3 class="modal-title">Añadir a Contactos</h3>
            <p>¿Deseas añadir este contacto a tu agenda telefónica?</p>
            <div id="contact-details"></div>
            <div class="modal-buttons">
                <button id="cancel-add-btn" class="modal-btn secondary-btn">Cancelar</button>
                <button id="add-to-contacts-btn" class="modal-btn primary-btn">Añadir</button>
            </div>
        </div>
    </div>

    <footer class="footer">
        <div class="footer-content">
            <div class="footer-text">
                &copy; 2025
            </div>
            <div class="footer-links">
                <a href="#" class="footer-link">Ayuda</a>
                <a href="#" class="footer-link">Información</a>
                <a href="#" class="footer-link">Contacto</a>
            </div>
        </div>
    </footer>

    <!-- Scripts -->
    <script src="contactUtils.js"></script>
    <script src="model.js"></script>
    <script src="uiController.js"></script>
    <script src="personalSummary.js"></script>
    <script src="controller.js"></script>
    <script src="main.js"></script>
</body>
</html>
